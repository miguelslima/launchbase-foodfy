
<div class="form">

  <div class="item">
    <div>
      <div>Imagem</div>
        <div id="photos-upload">
          <input 
            id="photos-input"
            type="file"
            name="photos"
            multiple 
            accept="image/*"
            onchange="PhotosUpload.handleFileInput(event)"
          >
          <p>Selecione até 6 fotos</p>
        </div>

        <div id="photos-preview"></div>
          {% if files %}
            {% for image in files %}
              <div class="photo" id={{image.id}}>
              <img src="{{image.src}}" alt="{{image.name}}">
              <i class="material-icons"
                onclick="PhotosUpload.removeOldPhoto(event)"
              >close</i>
              </div>
            {%endfor%}
          {% endif %}
      </div>
    </div>
  </div>

  <div class="item">
    <div>Receita</div>
    <div>
      <input 
        type="text" 
        name="title" 
        placeholder="Nome da receita"
        value="{{ recipe.title }}"
      >
    </div>
  </div>


  <div class="details">
    <div class="item">
      <div>Chef</div>
      <div>
        <select name="chef" class="form-control">
          {% for chef in chefOptions %}
          <option value="{{ chef.id }}" {% if recipe.chef_id ==  chef.id %} selected {% endif %}>{{ chef.name }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
  </div>



  <div class="item">
    <div>Ingredientes</div>

    <div id="create-ingredients">
      {% if recipe %}

      {% for ingredient in recipe.ingredients %}
      <div class="ingredient">
        <input
          type="text"
          name="ingredients[]"
          placeholder="Ingredientes"
          value="{{ ingredient }}"
        >
      </div>
      {% endfor %}
    
      {% else %}

      <div class="ingredient">
        <input 
          type="text" 
          placeholder="Ingredientes"
          name="ingredients[]" 
          value="{{ ingredients }}"
        >
      </div>
      {% endif %}
    </div>
    <button type="button" class="add-ingredient">Adicionar novo ingrediente</button>  
  </div>

  <div class="item">
    <div>Preparação</div>
    <div id="preparations">

        <div id="preparations">

          {% if recipe %}

          {% for preparation in recipe.preparation %}
          <div class="preparation">
            <input
              type="text"
              name="preparation[]"
              placeholder="Preparação"
              value="{{preparation}}"
            >
          </div>
          {%endfor%}
        {%else%}

        <div class="preparation">
            <input
              type="text"
              name="preparation[]"
              placeholder="Preparação"
              value="{{preparations}}"
            >
          </div>
        {%endif%}
      </div>
    </div>
    <button type="button" class="add-preparation">Adicionar novo passo</button>
  </div>


  <div class="item">
    <div>Informação</div>
    <div>
      <input 
        type="text" 
        name="information" 
        placeholder="Informações adicionais"
        value="{{ recipe.information }}"
      >
    </div>
  </div>
</section>
