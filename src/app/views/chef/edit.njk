{% extends "layout.njk" %}

{% block content %}

<div class="card">

  <section 
    class="avatar" 
    style="background: url({{chef.avatar_url}}) no-repeat center center / cover">
  </section>

  <section class="details">
    <form method="POST" action="/chefs?_method=PUT">
      
        <h3> Editar Chef </h3>

        {% include 'chefs/fields.njk' %}

        <input 
          type="hidden" 
          name="id" 
          value={{chef.id}}
        >
    </form>

    <form id="form-delete" action="/chefs?_method=DELETE" method="post">
      <input type="hidden" name="id" value={{chef.id}}>
      <button type="submit"> Excluir </button>
    </form>

    <script>
      const formDelete = document.querySelector("#form-delete");
      formDelete.addEventListener("submit", function(event){
        const confirmation = confirm("Deseja deletar?");
        if(!confirmation) {
          event.preventDefault()
        }
      })
    </script>

  </section>
</div>


{% endblock content %}

